(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{124:function(e,t){},139:function(e,t,a){"use strict";var n=a(24),r=a(0),s=a.n(r),c=(a(191),a(19));function o(){c.a.signOut().then(function(e){console.log("signed out: ",e)}).catch(function(e){return console.log(e)})}var i=function(){return s.a.createElement("button",{className:"btn navSignOut",onClick:o},"Sign Out")},l=a(45);t.a=function(e){var t=Object(l.b)(),a=Object(n.a)(t,2),r=a[0];return a[1],s.a.createElement("nav",{className:"navBar",onClick:function(){return e.updateFormState("base")}},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col "},s.a.createElement("h1",{className:" my-1 navTitle col",href:"#"},"Web Space")),r.user&&r.user.signInUserSession&&s.a.createElement("div",null,s.a.createElement(i,null)))))}},149:function(e,t,a){},191:function(e,t,a){},225:function(e,t,a){"use strict";(function(e){var n=a(32),r=a.n(n),s=a(63),c=a(24),o=a(0),i=a.n(o),l=a(38),u=a(139),m=a(231),p=a(232),d=a(19),f=a(45),g=a(47);function E(){return(E=Object(s.a)(r.a.mark(function e(t){var a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.currentAuthenticatedUser();case 3:a=e.sent,console.log("user: ",a),t({type:"SET_USER",user:a}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("err: ",e.t0),t({type:"LOADED"});case 12:case"end":return e.stop()}},e,null,[[0,8]])}))).apply(this,arguments)}t.a=Object(l.f)(function(t){console.log(t);var a=Object(o.useState)("base"),n=Object(c.a)(a,2),r=n[0],s=n[1],l=Object(f.b)(),h=Object(c.a)(l,2),b=h[0],v=h[1],N=Object(o.useState)({}),w=Object(c.a)(N,2);return w[0],w[1],Object(o.useEffect)(function(){d.b.listen("auth",function(a){var n=a.payload;"signIn"===n.event&&(d.a.currentAuthenticatedUser().then(function(e){var a=e.attributes.name,n=e.attributes.email,r=e.attributes.picture;g.a.getUserByEmail(n).then(function(e){e.data||(g.a.saveUser({name:a,email:n,picture:r}).then(function(e){console.log("User Created")}).catch(function(e){console.log("User creation failed")}),t.history.push("/register")),e.data&&(g.a.getUser({name:a,email:n,picture:r}).then(function(e){console.log("User Created")}).catch(function(e){console.log("User creation failed")}),t.history.push("/main"))})}),e(function(){return v({type:"SET_USER",user:n.data})}),s("base")),"signOut"===n.event&&setTimeout(function(){return v({type:"SET_USER",user:null})},350)}),window.location.search.includes("?signedin=true")||function(e){E.apply(this,arguments)}(v)},[]),"email"===r?i.a.createElement("div",null,i.a.createElement(u.a,{updateFormState:s}),i.a.createElement(p.a,null)):i.a.createElement("div",null,i.a.createElement(u.a,{updateFormState:s}),b.loading&&i.a.createElement("div",{className:""},i.a.createElement("p",null,"Loading...")),!b.user&&!b.loading&&i.a.createElement(m.a,{updateFormState:s}))})}).call(this,a(190).setImmediate)},231:function(e,t,a){"use strict";var n=a(0),r=a.n(n),s=(a(768),a(19)),c=a(138);t.a=function(e){return r.a.createElement("div",{className:"container bCard"},r.a.createElement("img",{src:a(769),className:"bPic"}),r.a.createElement("h4",{className:"bBio"},"Get to know better the people you are about to network with"),r.a.createElement("div",{className:"text-center"},r.a.createElement("button",{className:"bGoogle",onClick:function(){return s.a.federatedSignIn({provider:"Google"})}},r.a.createElement(c.b,{className:"mx-2 my-2",color:"red"}),r.a.createElement("p",{className:"bGoogletext  my-2"},"Sign Up with Google"))),r.a.createElement("button",{className:"bEmail",onClick:function(){return e.updateFormState("email")}},r.a.createElement(c.a,{className:" mx-2 my-1 text-white"}),r.a.createElement("p",{className:"bEmailtext my-2"},"Sign Up with Email")))}},232:function(e,t,a){"use strict";a.d(t,"a",function(){return h});var n=a(32),r=a.n(n),s=a(24),c=a(63),o=a(92),i=a(71),l=a(0),u=a.n(l),m=a(19),p=(a(772),{username:"",password:"",email:"",confirmationCode:""});function d(e,t){switch(t.type){case"updateFormState":return Object(i.a)({},e,Object(o.a)({},t.e.target.name,t.e.target.value));default:return e}}function f(){return(f=Object(c.a)(r.a.mark(function e(t,a){var n,s,c;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.username,s=t.password,c=t.email,e.prev=1,e.next=4,m.a.signUp({username:n,password:s,attributes:{email:c}});case 4:console.log("sign up success!"),a("confirmSignUp"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log("error signing up..",e.t0);case 11:case"end":return e.stop()}},e,null,[[1,8]])}))).apply(this,arguments)}function g(){return(g=Object(c.a)(r.a.mark(function e(t,a){var n,s;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.username,s=t.confirmationCode,e.prev=1,e.next=4,m.a.confirmSignUp(n,s);case 4:console.log("confirm sign up success!"),a("signIn"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log("error signing up..",e.t0);case 11:case"end":return e.stop()}},e,null,[[1,8]])}))).apply(this,arguments)}function E(){return(E=Object(c.a)(r.a.mark(function e(t){var a,n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.username,n=t.password,e.prev=1,e.next=4,m.a.signIn(a,n);case 4:console.log("sign in success!"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.log("error signing up..",e.t0);case 10:case"end":return e.stop()}},e,null,[[1,7]])}))).apply(this,arguments)}function h(e){var t=Object(l.useState)("signUp"),a=Object(s.a)(t,2),n=a[0],r=a[1],c=Object(l.useReducer)(d,p),o=Object(s.a)(c,2),i=o[0],m=o[1];return u.a.createElement("div",{className:""},u.a.createElement("div",null,function(){switch(n){case"signUp":return u.a.createElement(b,{signUp:function(){return function(e,t){return f.apply(this,arguments)}(i,r)},updateFormState:function(e){return m({type:"updateFormState",e:e})}});case"confirmSignUp":return u.a.createElement(N,{confirmSignUp:function(){return function(e,t){return g.apply(this,arguments)}(i,r)},updateFormState:function(e){return m({type:"updateFormState",e:e})}});case"signIn":return u.a.createElement(v,{signIn:function(){return function(e){return E.apply(this,arguments)}(i)},updateFormState:function(e){return m({type:"updateFormState",e:e})}});default:return null}}()),"signUp"===n&&u.a.createElement("p",{className:"have-acct"},"Already have an account?",u.a.createElement("span",{className:"signIn-link mx-1",onClick:function(){return r("signIn")}},"Sign In")),"signIn"===n&&u.a.createElement("p",{className:"need-acct"},"Need an account?"," ",u.a.createElement("span",{className:"anchor",onClick:function(){return r("signUp")}},"Sign Up")))}function b(e){return u.a.createElement("div",{className:"signUpContainer container"},u.a.createElement("h6",{className:"create-acct"},"Create an Account"),u.a.createElement("input",{name:"username",onChange:function(t){t.persist(),e.updateFormState(t)},className:"userNameInput",placeholder:"username"}),u.a.createElement("input",{name:"email",onChange:function(t){t.persist(),e.updateFormState(t)},className:"emaiInput",placeholder:"email"}),u.a.createElement("input",{type:"password",name:"password",onChange:function(t){t.persist(),e.updateFormState(t)},className:"passwordInput",placeholder:"password"}),u.a.createElement("button",{onClick:e.signUp,className:"signUpButton"},"Sign Up"))}function v(e){return u.a.createElement("div",{className:"container signInContainer"},u.a.createElement("h6",{className:"log-acct"},"Log in"),u.a.createElement("input",{name:"username",onChange:function(t){t.persist(),e.updateFormState(t)},className:"userNameInput",placeholder:"username"}),u.a.createElement("input",{type:"password",name:"password",onChange:function(t){t.persist(),e.updateFormState(t)},className:"passwordInput",placeholder:"password"}),u.a.createElement("button",{className:"signInbutton",onClick:e.signIn},"Sign In"))}function N(e){return u.a.createElement("div",{className:""},u.a.createElement("input",{name:"confirmationCode",placeholder:"Confirmation Code",onChange:function(t){t.persist(),e.updateFormState(t)},className:"confirmSignInput"}),u.a.createElement("button",{onClick:e.confirmSignUp,className:"confirmSignInButton"},"Confirm Sign Up"))}},237:function(e,t,a){e.exports=a(776)},258:function(e,t,a){},45:function(e,t,a){"use strict";a.d(t,"a",function(){return p}),a.d(t,"b",function(){return d});var n=a(24),r=a(222),s=a(71),c=a(0),o=a.n(c),i=Object(c.createContext)(),l=i.Provider,u=function(e,t){switch(t.type){case"SET_USER":return Object(s.a)({},e,{user:t.user,loading:!1});case"LOADED":return Object(s.a)({},e,{loading:!1});default:return e}},m={user:null,loading:!0},p=function(e){e.value;var t=Object(r.a)(e,["value"]),a=Object(c.useReducer)(u,m),s=Object(n.a)(a,2),i=s[0],p=s[1];return o.a.createElement(l,Object.assign({value:[i,p]},t))},d=function(){return Object(c.useContext)(i)}},47:function(e,t,a){"use strict";var n=a(39),r=a.n(n);t.a={getUsers:function(){return r.a.get("/api/users")},getUser:function(e){return r.a.get("/api/users/"+e)},getUserByEmail:function(e){return r.a.get("/api/users/email/"+e)},saveUser:function(e){return r.a.post("/api/users",e)},updateUser:function(e){return r.a.put("/api/users/user",e)}}},768:function(e,t,a){},769:function(e,t,a){e.exports=a.p+"static/media/image1.4ef0e478.png"},772:function(e,t,a){},774:function(e,t,a){},775:function(e,t,a){},776:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(35),c=a.n(s),o=a(133),i=a(38),l=a(89),u=a(90),m=a(98),p=a(91),d=a(99),f=a(47),g=a(100);a(258);var E=function(e){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},e.results.map(function(e){return r.a.createElement(g.a,{className:"userCard flip-box",style:{width:"13rem",height:"20rem"}},r.a.createElement("div",{className:"flip-box-inner"},r.a.createElement("div",{className:"flip-box-front"},r.a.createElement("div",{className:" "},r.a.createElement("img",{className:"  userImage",src:e.picture,alt:"userPicture"}),r.a.createElement("h6",{className:"user-name text-center"},e.name),r.a.createElement("small",{className:"smallMotives text-center"},"What brings ",e.name," here today?"),r.a.createElement("span",{className:"align-center"},r.a.createElement("p",{className:" text-center motives"},e.motives)))),r.a.createElement(g.a.Body,{className:"flip-box-back"},r.a.createElement("p",{className:"user-name text-center"}," About "),r.a.createElement("p",{className:"bio text-center"},e.bio),r.a.createElement(g.a.Text,null,r.a.createElement("div",{className:" profile-info  "},r.a.createElement("p",{className:"email"}," ",r.a.createElement("a",{href:"mailto:"},e.email)," "),r.a.createElement("p",{className:"profession"}," ",r.a.createElement("a",{href:"http://"},e.profession)," "))))))})))},h=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={users:[]},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;f.a.getUsers().then(function(t){return e.setState({users:t.data})}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(E,{results:this.state.users}))}}]),t}(n.Component),b=a(97),v=a(24),N=(a(149),a(45)),w=a(234),S=a(74),y=function(e){var t=e.touched,a=e.message;return t?a?r.a.createElement("div",{className:"form-message invalid"},a):r.a.createElement("div",{className:"form-message valid"},"all good"):r.a.createElement("div",{className:"form-message invalid"},"\xa0")},O=S.object().shape({name:S.string().min(5,"Too Short!").max(255,"Too Long!").required("Required"),email:S.string().email("Must be a valid e-mail!").max(255,"Too Long!").required("Required"),bio:S.string().min(2,"C'mon , we want to know more about you!").max(255,"Too Long!").required("Required")});var j=function(e){console.log(e);var t=Object(N.b)(),a=Object(v.a)(t,2),n=a[0];return a[1],console.log(n),r.a.createElement("div",null,r.a.createElement(w.a,{initialValues:{picture:n.user.signInUserSession.idToken.payload.picture,name:n.user.signInUserSession.idToken.payload.name,email:n.user.signInUserSession.idToken.payload.email,bio:""},validationSchema:O,onSubmit:function(t,a){a.setSubtmitting,t.email,f.a.updateUser({picture:t.picture,name:t.name,bio:t.bio,profession:t.profession,email:t.email,motives:t.motives}).then(function(t){e.handleModalClose(),console.log("Saved to database")})}},function(e){var t=e.values,a=e.errors,n=e.touched,s=e.handleChange,c=e.handleBlur,o=e.handleSubmit,i=e.isSubmitting;return r.a.createElement("form",{onSubmit:o},r.a.createElement("nav",{className:" modalNav  p-1"},"Your Profile"),r.a.createElement("div",{className:"container  modalStyle"},r.a.createElement("div",{className:"row "},r.a.createElement("div",{className:"col-6 text-center"},r.a.createElement("img",{className:"userImageForm",src:t.picture,alt:"userPicture"}),r.a.createElement("p",{className:" \nnameRegisterForm text-center ",name:"name",id:"name"}," ",t.name),r.a.createElement("p",{className:" emailRegisterForm text-center",type:"email",name:"email",id:"user_email"},t.email)),r.a.createElement("div",{className:"col-6"},r.a.createElement("div",{className:"row   my-2 form-group"},r.a.createElement("label",{htmlFor:""}),r.a.createElement("textarea",{name:"bio",placeholder:"Write a brief description about yourself...",value:t.bio,rows:"4",cols:"45",onChange:s,className:n.bio&&a.bio?"has-error":null}," "),r.a.createElement("div",{className:"inputError"},r.a.createElement(y,{touched:n.bio,message:a.bio}))),r.a.createElement("div",{className:"row form-group"},r.a.createElement("label",{htmlFor:"profession"},"Profession:"),r.a.createElement("input",{className:"input-group-append",type:"text",name:"profession",id:"user_profession",value:t.profession,onChange:s}),r.a.createElement("i",{className:"fas fa-pen mx-2"})),r.a.createElement("div",{className:" form-group"},r.a.createElement("p",{className:"motivesLabel"},"What brings you here today?"),r.a.createElement("select",{onChange:s,onBlur:c,className:"custom-select col-8 form-select",name:"motives",value:t.motives,id:"user_motive"},r.a.createElement("option",{value:"Networking"},"Networking"),r.a.createElement("option",{value:"Looking for a position"},"Looking for a position"),r.a.createElement("option",{value:"I am a recruiter"},"I am a recruiter")),r.a.createElement("div",{className:"  float-right"},r.a.createElement("button",{className:" button submitBtn",type:"submit",disabled:i},r.a.createElement("i",{className:"fas fa-check"}))))))))}))},x=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={show:!0},a.handleModalClose=function(){a.setState({show:!1}),a.props.history.push("/main")},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(b.a,{className:"registerModal","aria-labelledby":"",centered:!0,size:"lg",show:this.state.show,onHide:this.handleClose},r.a.createElement(b.a.Body,null,r.a.createElement(j,{handleModalClose:this.handleModalClose})))}}]),t}(n.Component),C=a(225);a(774);var U=function(){return r.a.createElement("div",null,r.a.createElement("nav",{className:"appFooter navbar justify-content-center fixed-bottom "},r.a.createElement("small",null,"Copyright 2019 \xa9")))};var k=function(){return r.a.createElement(N.a,null,r.a.createElement(o.a,null,r.a.createElement(C.a,null),r.a.createElement("div",{className:"App"},r.a.createElement(i.c,null,r.a.createElement(i.a,{exact:!0,path:"/register",component:x}),r.a.createElement(i.a,{exact:!0,path:"/main",component:h})),r.a.createElement(U,null))))},I=a(19),_={aws_project_region:"us-west-2",aws_cognito_identity_pool_id:"us-west-2:a62c46bf-fef9-430d-ad32-3e42fbdfca59",aws_cognito_region:"us-west-2",aws_user_pools_id:"us-west-2_gNSTliNbG",aws_user_pools_web_client_id:"51j0qb92bnjv04s64pb62unktv",oauth:{domain:"webspaceproject3-projfinal.auth.us-west-2.amazoncognito.com",scope:["phone","email","openid","profile","aws.cognito.signin.user.admin"],redirectSignIn:"https://rocky-atoll-63520.herokuapp.com/main",redirectSignOut:"https://rocky-atoll-63520.herokuapp.com/",responseType:"code"},federationTarget:"COGNITO_USER_POOLS"};a(775);I.c.configure(_),c.a.render(r.a.createElement(k,null),document.getElementById("root"))}},[[237,1,2]]]);
//# sourceMappingURL=main.a2adf462.chunk.js.map